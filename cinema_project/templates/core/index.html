{% extends 'core/base.html' %}

{% block content %}
<!-- –ê–Ω–∏–º–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –≥–µ—Ä–æ–π-—Å–µ–∫—Ü–∏—è -->
<section class="hero-section">
    <div class="particles-container" id="particles-js"></div>
    <div class="hero-content">
        <h1 class="hero-title">
            <span class="title-word">–î–æ–±—Ä–æ</span>
            <span class="title-word">–ø–æ–∂–∞–ª–æ–≤–∞—Ç—å</span>
            <span class="title-word">–≤</span>
            <span class="title-word ">CinemaHub</span>
        </h1>
        <p class="hero-subtitle">–ü–æ–≥—Ä—É–∑–∏—Ç–µ—Å—å –≤ –º–∏—Ä –∫–∏–Ω–µ–º–∞—Ç–æ–≥—Ä–∞—Ñ–∞ —Å –Ω–∞—à–∏–º–∏ —ç–∫—Å–∫–ª—é–∑–∏–≤–Ω—ã–º–∏ —Å–µ–∞–Ω—Å–∞–º–∏</p>

        <div class="hero-buttons">
            {% if user.is_authenticated %}
                {% if user.is_staff %}
                    <a href="{% url 'admin_panel' %}" class="btn hero-btn">–ü–∞–Ω–µ–ª—å —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è</a>
                {% else %}
                    <a href="{% url 'movie_sessions' %}" class="btn hero-btn">–°–º–æ—Ç—Ä–µ—Ç—å —Å–µ–∞–Ω—Å—ã</a>
                    <a href="{% url 'profile' %}" class="btn hero-btn-secondary">–õ–∏—á–Ω—ã–π –∫–∞–±–∏–Ω–µ—Ç</a>
                {% endif %}
            {% else %}
                <a href="{% url 'movie_sessions' %}" class="btn hero-btn">–°–º–æ—Ç—Ä–µ—Ç—å —Å–µ–∞–Ω—Å—ã</a>
                <a href="{% url 'register' %}" class="btn hero-btn-secondary">–ü—Ä–∏—Å–æ–µ–¥–∏–Ω–∏—Ç—å—Å—è</a>
            {% endif %}
        </div>
    </div>

    <!-- –ê–Ω–∏–º–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —ç–ª–µ–º–µ–Ω—Ç—ã -->
    <div class="floating-elements">
        <div class="floating-element element-1">üé¨</div>
        <div class="floating-element element-2">üçø</div>
        <div class="floating-element element-3">‚≠ê</div>
        <div class="floating-element element-4">üé≠</div>
        <div class="floating-element element-5">üìΩÔ∏è</div>
    </div>

    <!-- –°–∫—Ä–æ–ª–ª-–∏–Ω–¥–∏–∫–∞—Ç–æ—Ä -->
    <div class="scroll-indicator">
        <div class="scroll-arrow"></div>
    </div>
</section>

<!-- –°–µ–∫—Ü–∏—è –ø—Ä–µ–∏–º—É—â–µ—Å—Ç–≤ -->
<section class="features-section">
    <div class="container">
        <h2 class="section-title">–ü–æ—á–µ–º—É –≤—ã–±–∏—Ä–∞—é—Ç –Ω–∞—Å?</h2>
        <div class="features-grid">
            <div class="feature-card">
                <div class="feature-icon">üéØ</div>
                <h3>–≠–∫—Å–∫–ª—é–∑–∏–≤–Ω—ã–µ —Å–µ–∞–Ω—Å—ã</h3>
                <p>–¢–æ–ª—å–∫–æ –ª—É—á—à–∏–µ —Ñ–∏–ª—å–º—ã –≤ –∏–¥–µ–∞–ª—å–Ω–æ–º –∫–∞—á–µ—Å—Ç–≤–µ —Å —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–º –∑–≤—É–∫–æ–º</p>
            </div>
            <div class="feature-card">
                <div class="feature-icon">‚ö°</div>
                <h3>–ú–≥–Ω–æ–≤–µ–Ω–Ω–æ–µ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ</h3>
                <p>–ó–∞–±—Ä–æ–Ω–∏—Ä—É–π—Ç–µ –º–µ—Å—Ç–∞ –æ–Ω–ª–∞–π–Ω –∑–∞ –ø–∞—Ä—É –∫–ª–∏–∫–æ–≤ –±–µ–∑ –æ—á–µ—Ä–µ–¥–µ–π</p>
            </div>
            <div class="feature-card">
                <div class="feature-icon">üéüÔ∏è</div>
                <h3>–£–º–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞</h3>
                <p>–ö–æ–Ω—Ç—Ä–æ–ª–∏—Ä—É–π—Ç–µ —Å–≤–æ–∏ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è –≤ –ª–∏—á–Ω–æ–º –∫–∞–±–∏–Ω–µ—Ç–µ</p>
            </div>
        </div>
    </div>
</section>

<!-- –°–µ–∫—Ü–∏—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ -->
<section class="stats-section">
    <div class="container">
        <div class="stats-grid">
            <div class="stat-item">
                <div class="stat-number" data-count="100">0</div>
                <div class="stat-label">—Ñ–∏–ª—å–º–æ–≤ –≤ –∫–æ–ª–ª–µ–∫—Ü–∏–∏</div>
            </div>
            <div class="stat-item">
                <div class="stat-number" data-count="5000">0</div>
                <div class="stat-label">–¥–æ–≤–æ–ª—å–Ω—ã—Ö –∑—Ä–∏—Ç–µ–ª–µ–π</div>
            </div>
            <div class="stat-item">
                <div class="stat-number" data-count="99">0</div>
                <div class="stat-label">% –∫–∞—á–µ—Å—Ç–≤–æ –æ–±—Å–ª—É–∂–∏–≤–∞–Ω–∏—è</div>
            </div>
        </div>
    </div>
</section>

<!-- –ü–æ–¥–∫–ª—é—á–∞–µ–º –±–∏–±–ª–∏–æ—Ç–µ–∫—É —á–∞—Å—Ç–∏—Ü -->
<script src="https://cdn.jsdelivr.net/particles.js/2.0.0/particles.min.js"></script>

<style>
/* –ì–µ—Ä–æ–π-—Å–µ–∫—Ü–∏—è */
.hero-section {
    height: 100vh;
    background: linear-gradient(135deg,
        rgba(26, 26, 46, 0.95) 0%,
        rgba(106, 17, 203, 0.3) 50%,
        rgba(37, 117, 252, 0.2) 100%),
        radial-gradient(circle at 20% 80%, rgba(106, 17, 203, 0.4) 0%, transparent 50%),
        radial-gradient(circle at 80% 20%, rgba(37, 117, 252, 0.3) 0%, transparent 50%);
    position: relative;
    overflow: hidden;
    display: flex;
    align-items: center;
    justify-content: center;
    text-align: center;
}

/* –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä –¥–ª—è —á–∞—Å—Ç–∏—Ü */
#particles-js {
    position: absolute;
    width: 100%;
    height: 100%;
    top: 0;
    left: 0;
}

.hero-content {
    position: relative;
    z-index: 2;
    max-width: 800px;
    padding: 0 2rem;
}

/* –ê–Ω–∏–º–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –∑–∞–≥–æ–ª–æ–≤–æ–∫ */
.hero-title {
    font-size: 4rem;
    font-weight: 900;
    margin-bottom: 1.5rem;
    font-family: 'Orbitron', sans-serif;
}

.title-word {
    display: inline-block;
    opacity: 0;
    transform: translateY(30px);
    animation: titleSlideUp 0.8s ease forwards;
}

.title-word:nth-child(1) { animation-delay: 0.1s; }
.title-word:nth-child(2) { animation-delay: 0.3s; }
.title-word:nth-child(3) { animation-delay: 0.5s; }
.title-word:nth-child(4) { animation-delay: 0.7s; }

.highlight {
    background: linear-gradient(45deg, #6a11cb, #2575fc, #ff2e63);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-size: 200% 200%;
    animation: gradientShift 3s ease infinite;
}

@keyframes titleSlideUp {
    to {
        opacity: 1;
        transform: translateY(0);
    }
}

@keyframes gradientShift {
    0%, 100% { background-position: 0% 50%; }
    50% { background-position: 100% 50%; }
}

.hero-subtitle {
    font-size: 1.4rem;
    color: rgba(255, 255, 255, 0.8);
    margin-bottom: 3rem;
    line-height: 1.6;
    opacity: 0;
    transform: translateY(20px);
    animation: fadeInUp 1s ease 1s forwards;
}

.hero-buttons {
    display: flex;
    gap: 1.5rem;
    justify-content: center;
    flex-wrap: wrap;
    opacity: 0;
    transform: translateY(20px);
    animation: fadeInUp 1s ease 1.3s forwards;
}

.hero-btn {
    background: linear-gradient(45deg, #6a11cb, #2575fc);
    padding: 1.2rem 2.5rem;
    font-size: 1.1rem;
    border-radius: 50px;
    text-decoration: none;
    transition: all 0.3s ease;
    border: none;
    cursor: pointer;
}

.hero-btn-secondary {
    background: transparent;
    border: 2px solid #6a11cb;
    padding: 1.2rem 2.5rem;
    font-size: 1.1rem;
    border-radius: 50px;
    text-decoration: none;
    transition: all 0.3s ease;
}

.hero-btn:hover, .hero-btn-secondary:hover {
    transform: translateY(-5px);
    box-shadow: 0 15px 30px rgba(106, 17, 203, 0.4);
}

/* –ü–ª–∞–≤–∞—é—â–∏–µ —ç–ª–µ–º–µ–Ω—Ç—ã */
.floating-elements {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    pointer-events: none;
}

.floating-element {
    position: absolute;
    font-size: 2rem;
    opacity: 0.3;
    animation: float 6s ease-in-out infinite;
}

.element-1 { top: 20%; left: 10%; animation-delay: 0s; }
.element-2 { top: 60%; left: 5%; animation-delay: 1s; }
.element-3 { top: 30%; right: 10%; animation-delay: 2s; }
.element-4 { top: 70%; right: 15%; animation-delay: 3s; }
.element-5 { top: 50%; left: 50%; animation-delay: 4s; }

@keyframes float {
    0%, 100% { transform: translateY(0) rotate(0deg); }
    50% { transform: translateY(-20px) rotate(10deg); }
}

/* –°–∫—Ä–æ–ª–ª-–∏–Ω–¥–∏–∫–∞—Ç–æ—Ä */
.scroll-indicator {
    position: absolute;
    bottom: 2rem;
    left: 50%;
    transform: translateX(-50%);
    opacity: 0;
    animation: fadeIn 1s ease 2s forwards;
}

.scroll-arrow {
    width: 30px;
    height: 30px;
    border-right: 2px solid #6a11cb;
    border-bottom: 2px solid #6a11cb;
    transform: rotate(45deg);
    animation: bounce 2s infinite;
}

@keyframes bounce {
    0%, 100% { transform: rotate(45deg) translateY(0); }
    50% { transform: rotate(45deg) translateY(-10px); }
}

@keyframes fadeIn {
    to { opacity: 1; }
}

@keyframes fadeInUp {
    to {
        opacity: 1;
        transform: translateY(0);
    }
}

/* –°–µ–∫—Ü–∏—è –ø—Ä–µ–∏–º—É—â–µ—Å—Ç–≤ */
.features-section {
    padding: 6rem 0;
    background: rgba(26, 26, 46, 0.8);
}

.section-title {
    text-align: center;
    font-size: 3rem;
    margin-bottom: 4rem;
    background: linear-gradient(45deg, #6a11cb, #2575fc);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    font-family: 'Orbitron', sans-serif;
}

.features-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
    gap: 3rem;
    max-width: 1200px;
    margin: 0 auto;
}

.feature-card {
    background: rgba(45, 48, 71, 0.6);
    padding: 3rem 2rem;
    border-radius: 20px;
    text-align: center;
    border: 1px solid rgba(106, 17, 203, 0.3);
    transition: all 0.3s ease;
    backdrop-filter: blur(10px);
}

.feature-card:hover {
    transform: translateY(-10px);
    box-shadow: 0 20px 40px rgba(106, 17, 203, 0.3);
    border-color: #6a11cb;
}

.feature-icon {
    font-size: 4rem;
    margin-bottom: 1.5rem;
}

.feature-card h3 {
    color: #fff;
    font-size: 1.5rem;
    margin-bottom: 1rem;
}

.feature-card p {
    color: #aaa;
    line-height: 1.6;
}

/* –°–µ–∫—Ü–∏—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ */
.stats-section {
    padding: 4rem 0;
    background: linear-gradient(135deg, rgba(106, 17, 203, 0.1), rgba(37, 117, 252, 0.1));
}

.stats-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
    gap: 3rem;
    max-width: 800px;
    margin: 0 auto;
    text-align: center;
}

.stat-item {
    padding: 2rem;
}

.stat-number {
    font-size: 3.5rem;
    font-weight: 900;
    background: linear-gradient(45deg, #6a11cb, #2575fc);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    margin-bottom: 0.5rem;
}

.stat-label {
    color: #aaa;
    font-size: 1.1rem;
}

/* –ê–¥–∞–ø—Ç–∏–≤–Ω–æ—Å—Ç—å */
@media (max-width: 768px) {
    .hero-title {
        font-size: 2.5rem;
    }

    .hero-subtitle {
        font-size: 1.1rem;
    }

    .hero-buttons {
        flex-direction: column;
        align-items: center;
    }

    .section-title {
        font-size: 2.2rem;
    }

    .features-grid {
        grid-template-columns: 1fr;
    }
}
</style>

<script>
// –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è —á–∞—Å—Ç–∏—Ü
document.addEventListener('DOMContentLoaded', function() {
    particlesJS('particles-js', {
        particles: {
            number: { value: 80, density: { enable: true, value_area: 800 } },
            color: { value: ["#6a11cb", "#2575fc", "#ff2e63"] },
            shape: { type: "circle" },
            opacity: { value: 0.5, random: true },
            size: { value: 3, random: true },
            line_linked: {
                enable: true,
                distance: 150,
                color: "#6a11cb",
                opacity: 0.2,
                width: 1
            },
            move: {
                enable: true,
                speed: 2,
                direction: "none",
                random: true,
                straight: false,
                out_mode: "out",
                bounce: false
            }
        },
        interactivity: {
            detect_on: "canvas",
            events: {
                onhover: { enable: true, mode: "repulse" },
                onclick: { enable: true, mode: "push" },
                resize: true
            }
        }
    });

    // –ê–Ω–∏–º–∞—Ü–∏—è —Å—á–µ—Ç—á–∏–∫–æ–≤
    function animateCounters() {
        const counters = document.querySelectorAll('.stat-number');
        const speed = 200;

        counters.forEach(counter => {
            const target = +counter.getAttribute('data-count');
            const count = +counter.innerText;
            const increment = target / speed;

            if (count < target) {
                counter.innerText = Math.ceil(count + increment);
                setTimeout(animateCounters, 1);
            } else {
                counter.innerText = target;
            }
        });
    }

    // –ó–∞–ø—É—Å–∫–∞–µ–º –∞–Ω–∏–º–∞—Ü–∏—é —Å—á–µ—Ç—á–∏–∫–æ–≤ –ø—Ä–∏ —Å–∫—Ä–æ–ª–ª–µ
    window.addEventListener('scroll', function() {
        const statsSection = document.querySelector('.stats-section');
        const sectionPos = statsSection.getBoundingClientRect().top;
        const screenPos = window.innerHeight / 1.3;

        if (sectionPos < screenPos) {
            animateCounters();
            window.removeEventListener('scroll', this);
        }
    });
});
</script>
{% endblock %}