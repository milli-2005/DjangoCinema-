{% extends 'core/base.html' %}

{% block content %}
<div class="form-container-wide">
    <h1 class="page-title" style="color: #ff2e63;">üóëÔ∏è –£–¥–∞–ª–µ–Ω–∏–µ —Å–µ–∞–Ω—Å–∞</h1>

    <div class="warning-message" style="background: rgba(255, 46, 99, 0.1); border: 2px solid #ff2e63; padding: 2rem; border-radius: 15px; margin-bottom: 2rem; text-align: center;">
        <div style="font-size: 4rem; margin-bottom: 1rem;">‚ö†Ô∏è</div>
        <h3 style="color: #ff2e63; margin-bottom: 1rem;">–í—ã —É–≤–µ—Ä–µ–Ω—ã, —á—Ç–æ —Ö–æ—Ç–∏—Ç–µ —É–¥–∞–ª–∏—Ç—å —ç—Ç–æ—Ç —Å–µ–∞–Ω—Å?</h3>
        <p style="color: #aaa;">–í—Å–µ —Å–≤—è–∑–∞–Ω–Ω—ã–µ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è —Ç–∞–∫–∂–µ –±—É–¥—É—Ç —É–¥–∞–ª–µ–Ω—ã. –≠—Ç–æ –¥–µ–π—Å—Ç–≤–∏–µ –Ω–µ–≤–æ–∑–º–æ–∂–Ω–æ –æ—Ç–º–µ–Ω–∏—Ç—å.</p>
    </div>

    <div class="session-details" style="background: rgba(45, 48, 71, 0.6); padding: 2rem; border-radius: 15px; margin-bottom: 2rem;">
        <div style="display: grid; grid-template-columns: auto 1fr; gap: 2rem; align-items: start;">
            <!-- –ü–æ—Å—Ç–µ—Ä -->
            <div>
                {% if session.image %}
                    <img src="{{ session.image.url }}" alt="{{ session.title }}" style="width: 200px; height: 300px; object-fit: cover; border-radius: 10px;">
                {% else %}
                    <div style="width: 200px; height: 300px; background: linear-gradient(45deg, #2d3047, #1a1a2e); display: flex; align-items: center; justify-content: center; color: #6a11cb; font-size: 1.5rem; border-radius: 10px;">
                        üé¨ –ù–µ—Ç –ø–æ—Å—Ç–µ—Ä–∞
                    </div>
                {% endif %}
            </div>

            <!-- –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è -->
            <div>
                <h3 style="color: #fff; margin-bottom: 1rem; font-size: 1.8rem;">{{ session.title }}</h3>

                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 1rem; margin-bottom: 1.5rem;">
                    <div>
                        <p style="color: #6a11cb; margin-bottom: 0.5rem;"><strong>–î–∞—Ç–∞ –∏ –≤—Ä–µ–º—è:</strong></p>
                        <p style="color: #fff;">{{ session.date|date:"d.m.Y H:i" }}</p>
                    </div>
                    <div>
                        <p style="color: #6a11cb; margin-bottom: 0.5rem;"><strong>–ü—Ä–æ–¥–æ–ª–∂–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å:</strong></p>
                        <p style="color: #fff;">{{ session.duration }} –º–∏–Ω—É—Ç</p>
                    </div>
                    <div>
                        <p style="color: #6a11cb; margin-bottom: 0.5rem;"><strong>–¶–µ–Ω–∞:</strong></p>
                        <p style="color: #fff;">{{ session.price }} —Ä—É–±.</p>
                    </div>
                    <div>
                        <p style="color: #6a11cb; margin-bottom: 0.5rem;"><strong>–î–æ—Å—Ç—É–ø–Ω–æ –º–µ—Å—Ç:</strong></p>
                        <p style="color: #fff;">{{ session.seats_available }}</p>
                    </div>
                </div>

                <div style="background: rgba(255, 46, 99, 0.2); padding: 1rem; border-radius: 10px; border: 1px solid #ff2e63;">
                    <p style="color: #ff2e63; margin: 0;">
                        <strong>–í–Ω–∏–º–∞–Ω–∏–µ:</strong> –ë—É–¥–µ—Ç —É–¥–∞–ª–µ–Ω–æ <strong>{{ session.booking_set.count }}</strong> –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–π
                    </p>
                </div>
            </div>
        </div>

        <!-- –û–ø–∏—Å–∞–Ω–∏–µ -->
        <div style="margin-top: 1.5rem;">
            <p style="color: #6a11cb; margin-bottom: 0.5rem;"><strong>–û–ø–∏—Å–∞–Ω–∏–µ:</strong></p>
            <p style="color: #aaa; line-height: 1.6;">{{ session.description }}</p>
        </div>
    </div>

    <form method="post">
        {% csrf_token %}
        <div class="button-group">
            <button type="submit" class="btn" style="background: linear-gradient(45deg, #ff2e63, #ff6b6b);">
                üóëÔ∏è –î–∞, —É–¥–∞–ª–∏—Ç—å —Å–µ–∞–Ω—Å
            </button>
            <a href="{% url 'admin_sessions' %}" class="btn" style="background: transparent; border: 2px solid #6a11cb;">
                ‚Ü©Ô∏è –û—Ç–º–µ–Ω–∞
            </a>
        </div>
    </form>
</div>
{% endblock %}