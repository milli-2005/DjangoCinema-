{% extends 'core/base.html' %}

{% block content %}
<div class="form-container">
    <h2 style="text-align: center; margin-bottom: 2rem; background: linear-gradient(45deg, #6a11cb, #2575fc); -webkit-background-clip: text; -webkit-text-fill-color: transparent;">–ë—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–µ–∞–Ω—Å–∞</h2>

    {% if error %}
        <div class="error-message" style="background: rgba(255, 46, 99, 0.2); border: 1px solid #ff2e63; padding: 1rem; border-radius: 10px; margin-bottom: 1rem;">
            {{ error }}
        </div>
    {% endif %}

    <div style="background: rgba(45, 48, 71, 0.6); padding: 1.5rem; border-radius: 15px; margin-bottom: 2rem;">
        <h3 style="color: #fff; margin-bottom: 1rem;">{{ session.title }}</h3>

        {% if session.image %}
            <img src="{{ session.image.url }}" alt="{{ session.title }}" style="width: 200px; height: 300px; object-fit: cover; border-radius: 10px; margin-bottom: 1rem;">
        {% else %}
            <div style="width: 200px; height: 300px; background: linear-gradient(45deg, #2d3047, #1a1a2e); display: flex; align-items: center; justify-content: center; color: #6a11cb; font-size: 1rem; font-weight: bold; border-radius: 10px; margin-bottom: 1rem;">
                üé¨ –ù–µ—Ç –ø–æ—Å—Ç–µ—Ä–∞
            </div>
        {% endif %}

        <p style="color: #aaa; margin-bottom: 0.5rem;"><strong>–û–ø–∏—Å–∞–Ω–∏–µ:</strong> {{ session.description }}</p>
        <p style="color: #aaa; margin-bottom: 0.5rem;"><strong>–î–∞—Ç–∞:</strong> {{ session.date|date:"d.m.Y H:i" }}</p>
        <p style="color: #aaa; margin-bottom: 0.5rem;"><strong>–î–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å:</strong> {{ session.duration }} –º–∏–Ω—É—Ç</p>
        <p style="color: #aaa; margin-bottom: 0.5rem;"><strong>–¶–µ–Ω–∞:</strong> {{ session.price }} —Ä—É–±.</p>
        <p style="color: #aaa; margin-bottom: 0.5rem;"><strong>–î–æ—Å—Ç—É–ø–Ω–æ –º–µ—Å—Ç:</strong> {{ session.seats_available }}</p>
    </div>

    {% if session.seats_available > 0 %}
    <form method="post">
        {% csrf_token %}
        <button type="submit" class="btn" style="width: 100%;">–ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç—å –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ</button>
    </form>
    {% else %}
    <button class="btn" style="width: 100%; background: #ff2e63; cursor: not-allowed;" disabled>–ù–µ—Ç —Å–≤–æ–±–æ–¥–Ω—ã—Ö –º–µ—Å—Ç</button>
    {% endif %}

    <a href="{% url 'movie_sessions' %}" class="btn" style="width: 100%; margin-top: 1rem; background: transparent; border: 1px solid #6a11cb;">–í–µ—Ä–Ω—É—Ç—å—Å—è –∫ —Å–µ–∞–Ω—Å–∞–º</a>
</div>
{% endblock %}